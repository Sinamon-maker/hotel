(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}console.log("hi i am from buttons");var t=document.querySelector("#dropdown-menu".concat("222"));document.getElementById("btn");var n=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.menu=e,e.addEventListener("click",this.handleClick.bind(this))}var n,o;return n=t,(o=[{key:"add",value:function(e){var t=e.target.previousElementSibling;t.innerHTML=+e.target.previousElementSibling.innerHTML+1,console.log("add"),"1"===t.innerHTML&&(t.previousElementSibling.disabled=!1)}},{key:"minus",value:function(e){var t=e.target.nextElementSibling;t.innerHTML=+e.target.nextElementSibling.innerHTML-1,"0"===t.innerHTML&&(e.target.disabled=!0)}},{key:"handleClick",value:function(e){e.target.classList.contains("btn_round-add")&&this.add(e),e.target.classList.contains("btn_round-minus")&&this.minus(e)}}])&&e(n.prototype,o),t}();function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function r(e,t,n){return r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}},r(e,t,n||e)}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function i(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function g(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}new n(t);var p=document.querySelector("#dropdown".concat("123")),v=p.childNodes[0].childNodes[0],h=document.querySelector("#dropdown-menu".concat("21")),b=function(){function e(t){d(this,e),this.inputContent=t}return g(e,[{key:"translate",value:function(e){return/\d*([5-9]$|13$|11$|12$|14$|0$)/i.test(e)?{гости:"гостей",младенцев:"младенцев",спальни:"спален",ванные:"ванных комнат",кровати:"кроватей"}:(e-1)%10==0?{гости:"гость",младенцев:"младенец",спальни:"спальня",ванные:"ванная комната",кровати:"кровать"}:{гости:"гостя",младенцев:"младенца",спальни:"спальни",ванные:"ванные комнаты",кровати:"кровати"}}},{key:"makeInputString",value:function(e){var t=this,n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);0!==e.взрослые&&(n.гости=e.взрослые,delete n.взрослые),0!==e.дети&&(n.гости=e.дети,delete n.дети),0!==e.взрослые&&0!==e.дети&&(n.гости=e.взрослые+e.дети,delete n.взрослые,delete n.дети),0!==e["ванные комнаты"]&&(n.ванные=e["ванные комнаты"],delete n["ванные комнаты"]);var o=Object.keys(n).reduce((function(e,o){return 0===n[o]?e:e+n[o]+t.translate(n[o])[o]}),"");this.inputContent.value=o}}]),e}(),m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,n,o=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,o=l(t);if(n){var r=l(this).constructor;e=Reflect.construct(o,arguments,r)}else e=o.apply(this,arguments);return i(this,e)});function u(e,t){var n;return d(this,u),(n=o.call(this,h)).data={спальни:0,кровати:0,"ванные комнаты":0,дети:0,взрослые:0,младенцы:0},n.dropdown=e,n.input=t,e.addEventListener("click",n.handleDropdown.bind(c(n))),n}return g(u,[{key:"hide",value:function(){this.dropdown.classList.toggle("dropdown-expanded")}},{key:"addToInput",value:function(e){this.data[e]+=1,this.input.makeInputString(this.data)}},{key:"minusToInput",value:function(e){this.data[e]-=1,this.input.makeInputString(this.data)}},{key:"add",value:function(e){r(l(u.prototype),"add",this).call(this,e);var t=e.target.previousElementSibling.innerHTML,n=e.target.parentNode.previousElementSibling.innerHTML;this.addToInput(n,t)}},{key:"minus",value:function(e){r(l(u.prototype),"minus",this).call(this,e);var t=e.target.nextElementSibling.innerHTML,n=e.target.parentNode.previousElementSibling.innerHTML;this.minusToInput(n,t)}},{key:"handleDropdown",value:function(e){e.target.classList.contains("btn_dropdown_down")&&this.hide(e)}}]),u}(n);function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=null,o=null,r=["янв","февр","мар","апр","мая","июн","июл","авг","сент","окт","нояб","дек"],a=i();function i(){var n,o,r,a;return 2===t?[null!==(r=document.getElementById("first-calendar-input".concat(e)))&&void 0!==r?r:{value:""},null!==(a=document.getElementById("second-calendar-input".concat(e)))&&void 0!==a?a:{value:""}]:[null!==(n=null===(o=document.getElementById("calendar-input".concat(e)))||void 0===o?void 0:o.children[0])&&void 0!==n?n:{value:""}]}function c(e){2===t?(a[0].value=s(e),a[1].value=""):a.value=s(e)}function l(e){2===t?a[1].value=s(e):a.value="".concat(a.value,"-").concat(s(e))}function u(){2===t?(a[0].value="",a[1].value=""):a.value=""}function s(e){if(null===e)return"";var n=new Date(e).getDate();n<10&&(n="0".concat(n));var o=new Date(e).getMonth(),a=new Date(e).getFullYear();if(2===t)return"".concat(n,".").concat(o+1,".").concat(a);var i=r[o];return"".concat(n).concat(i)}console.log("input",a);var d="calendar".concat(e),f=document.querySelector("div[data-calendar = ".concat(d,"]")),g=f.nextElementSibling.childNodes[0],p=f.nextElementSibling.childNodes[1];function v(){var t=document.getElementById("calendar-group".concat(e));t&&t.classList.toggle("calendar-group-opened")}function h(){n=null,o=null,M(),u()}p.addEventListener("click",v),g.addEventListener("click",h);var b=864e5,m=new Date,y=m.getFullYear(),w=m.getMonth();console.log("5555",y,w),m.getDate();var D=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"];function L(){var t=document.querySelector("div[data-month=title-month".concat(e,"]"));E(t,w,y),t.addEventListener("click",(function(e){var n;e.target===t.children[2]&&(n=new Date(y,w+1,1)),e.target===t.children[0]&&(n=new Date(y,w-1,1)),y=n.getFullYear(),w=n.getMonth(),console.log("newPeriod",y,w),O(y,w),E(t,w,y)}))}function E(e,t,n){console.log("monthContent",e),e.children[1].innerHTML="".concat(D[t]," ").concat(n)}function O(e,t){var r=new Date(e,t,1).getDay(),a=+new Date(e,t,1),i=c(r,a);function c(e,t){var n=[],o=+new Date(t-e*b+b);for(n.push(o);n.length<35;){var r=+new Date(n[n.length-1]+b);n.push(r)}return n}function l(e,t){var r=t||new Array(35).fill(0),a=Array.from(f.children);M(),r.forEach((function(e,t){u(e,t,a[t])})),n&&o&&S()}function u(e,r,a){var i=a.children[0];i.classList.remove("btn_page-data"),i.disabled=!1;var c=new Date(e).getDate();i.innerText=c,new Date(e).getMonth()!==t&&(i.disabled=!0),k(n,i)&&i.classList.add("btn_page-choosed"),k(o,i)&&(console.log("createbutton secondDate"),i.classList.add("btn_page-choosed")),new Date(e).getTime()===new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()).getTime()&&i.classList.add("btn_page-data")}l(0,i)}function T(e){if(e.target.classList.contains("btn_page")&&e.currentTarget.contains(e.target)&&e.currentTarget===f){e.target.classList.add("btn_page-choosed");var t=+new Date(y,w,e.target.innerText);if(!n)return console.log("2"),c(n=t),void console.log(a);if(!o)return n>t?(o=n,c(n=t),l(o),console.log(a)):l(o=t),S(),void console.log(a);if(n&&o)return o=null,c(n=t),l(o),M(),e.target.classList.add("btn_page-choosed"),void console.log(a)}}function k(e,t){return!(!e||new Date(e).getMonth()!==w||new Date(e).getDate()!==+t.innerText||t.disabled)}function _(e,t,n){if(new Date(e).getMonth()!==w||new Date(t).getMonth()!==w||n.disabled){if(new Date(e).getMonth()===w&&+n.innerHTML>new Date(e).getDate()&&!n.disabled)return!0;if(new Date(t).getMonth()===w&&+n.innerHTML<new Date(t).getDate()&&!n.disabled)return!0}else if(+n.innerHTML<new Date(t).getDate()&&+n.innerHTML>new Date(e).getDate()&&!n.disabled)return!0;return!1}function S(){var e=Array.from(f.childNodes).map((function(e){return e.childNodes[0]}));console.log("fillGap working",e),e.forEach((function(e){k(n,e)&&(e.parentNode.classList.add("left_date"),console.log("fillGap working firstDate",e.innerText,w)),_(n,o,e)&&e.parentNode.classList.add("between_date"),k(o,e)&&(e.parentNode.classList.add("right_date"),console.log("fillGap working secondDate",e.innerText,w))}))}function M(){console.log("fclearGap working",e);var e=Array.from(f.childNodes).map((function(e){return e.childNodes[0]}));e.forEach((function(e){e.parentNode.classList.remove("left_date"),e.classList.remove("btn_page-choosed"),e.parentNode.classList.remove("right_date"),e.classList.remove("btn_page-choosed"),e.parentNode.classList.remove("between_date")}))}O(y,w),L(),f.addEventListener("click",T)}new m(p,new b(v)),document.getElementById("first"),console.log("hi i am from calendar"),y("",1),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;console.log("calendarOwner",n);var n=document.getElementById("calendar-group".concat(e));function o(e){2===t&&e.target.classList.contains("btn_dropdown_down")&&(this.classList.toggle("calendar-group-opened"),console.log(e.target,this))}console.log("calendarOwner",n),n.addEventListener("click",o)}("222",2),y("222",2),console.log("hi i am from calendarWithInputs");var w=document.createElement("h6");w.textContent="Как интересно!",document.getElementsByTagName("h3").append(w),console.log("hhh"),console.log("Hallo")})();